From: Beno√Æt Knecht <benoit.knecht@fsfe.org>
Subject: Improve the default configuration file

Add comments better documenting the various options, reorder the options
so that the ones likely to be modified by users are at the top, add some
Debian-specific information. Should hopefully help avoiding reports such
as #653221 and #626835.
---
 minidlna.conf | 137 ++++++++++++++++++++++++++++++----------------------------
 1 file changed, 72 insertions(+), 65 deletions(-)

diff --git a/minidlna.conf b/minidlna.conf
index 02cbab9..a60db0a 100644
--- a/minidlna.conf
+++ b/minidlna.conf
@@ -1,81 +1,88 @@
-# port for HTTP (descriptions, SOAP, media transfer) traffic
-port=8200
-
-# network interfaces to serve, comma delimited
-#network_interface=eth0
-
-# specify the user account name or uid to run as
-#user=jmaggard
-
-# IPv4 address to listen on
-#listening_ip=192.0.2.1
-
-# set this to the directory you want scanned.
-# * if you want multiple directories, you can have multiple media_dir= lines
-# * if you want to restrict a media_dir to specific content types, you
-#   can prepend the types, followed by a comma, to the directory:
-#   + "A" for audio  (eg. media_dir=A,/home/jmaggard/Music)
-#   + "V" for video  (eg. media_dir=V,/home/jmaggard/Videos)
-#   + "P" for images (eg. media_dir=P,/home/jmaggard/Pictures)
-#   + "PV" for pictures and video (eg. media_dir=AV,/home/jmaggard/digital_camera)
-media_dir=/opt
-
-# set this if you want to customize the name that shows up on your clients
-#friendly_name=My DLNA Server
-
-# set this if you would like to specify the directory where you want MiniDLNA to store its database and album art cache
+# This is the configuration file for the MiniDLNA daemon, a DLNA/UPnP-AV media
+# server.
+#
+# Unless otherwise noted, the commented out options show their default value.
+#
+# On Debian, you can also refer to the minidlna.conf(5) man page for
+# documentation about this file.
+
+# Specify the user name or uid to run as.
+#user=minidlna
+
+
+# Path to the directory you want scanned for media files.
+#
+# This option can be specified more than once if you want multiple directories
+# scanned.
+#
+# If you want to restrict a media_dir to a specific content type, you can
+# prepend the directory name with a letter representing the type (A, P or V),
+# followed by a comma, as so:
+#   * "A" for audio    (eg. media_dir=A,/var/lib/minidlna/music)
+#   * "P" for pictures (eg. media_dir=P,/var/lib/minidlna/pictures)
+#   * "V" for video    (eg. media_dir=V,/var/lib/minidlna/videos)
+#
+# WARNING: After changing this option, you need to rebuild the database. Either
+#          run minidlna with the '-R' option, or delete the 'files.db' file
+#          from the db_dir directory (see below).
+#          On Debian, you can run, as root, 'service minidlna force-reload' instead.
+media_dir=/var/lib/minidlna
+
+# Path to the directory that should hold the database and album art cache.
 #db_dir=/var/cache/minidlna
 
-# set this if you would like to specify the directory where you want MiniDLNA to store its log file
+# Path to the directory that should hold the log file.
 #log_dir=/var/log
 
-# set this to change the verbosity of the information that is logged
-# each section can use a different level: off, fatal, error, warn, info, or debug
-#log_level=general,artwork,database,inotify,scanner,metadata,http,ssdp,tivo=warn
-
-# this should be a list of file names to check for when searching for album art
-# note: names should be delimited with a forward slash ("/")
-album_art_names=Cover.jpg/cover.jpg/AlbumArtSmall.jpg/albumartsmall.jpg/AlbumArt.jpg/albumart.jpg/Album.jpg/album.jpg/Folder.jpg/folder.jpg/Thumb.jpg/thumb.jpg
+# Use a different container as the root of the directory tree presented to
+# clients. The possible values are:
+#   * "." - standard container
+#   * "B" - "Browse Directory"
+#   * "M" - "Music"
+#   * "P" - "Pictures"
+#   * "V" - "Video"
+# if you specify "B" and client device is audio-only then "Music/Folders" will be used as root
+#root_container=.
 
-# set this to no to disable inotify monitoring to automatically discover new files
-# note: the default is yes
-inotify=yes
+# Network interface(s) to bind to, comma delimited.
+#network_interface=eth0
 
-# set this to yes to enable support for streaming .jpg and .mp3 files to a TiVo supporting HMO
-enable_tivo=no
+# IPv4 address to listen on.
+#listening_ip=192.0.2.1
 
-# set this to strictly adhere to DLNA standards.
-# * This will allow server-side downscaling of very large JPEG images,
-#   which may hurt JPEG serving performance on (at least) Sony DLNA products.
-strict_dlna=no
+# Port number for HTTP traffic (descriptions, SOAP, media transfer).
+port=8200
 
-# default presentation url is http address on port 80
-#presentation_url=http://www.mylan/index.php
+# URL presented to clients.
+# The default is the IP address of the server on port 80.
+#presentation_url=http://example.com:80
 
-# notify interval in seconds. default is 895 seconds.
-notify_interval=900
+# Name that the DLNA server presents to clients.
+#friendly_name=
 
-# serial and model number the daemon will report to clients
-# in its XML description
+# Serial number the server reports to clients.
 serial=12345678
+
+# Model number the server reports to clients.
 model_number=1
 
-# specify the path to the MiniSSDPd socket
-#minissdpdsocket=/var/run/minissdpd.sock
+# Automatic discovery of new files in the media_dir directory.
+#inotify=yes
 
-# use different container as root of the tree
-# possible values:
-#   + "." - use standard container (this is the default)
-#   + "B" - "Browse Directory"
-#   + "M" - "Music"
-#   + "V" - "Video"
-#   + "P" - "Pictures"
-# if you specify "B" and client device is audio-only then "Music/Folders" will be used as root
-#root_container=.
+# List of file names to look for when searching for album art. Names should be
+# delimited with a forward slash ("/").
+album_art_names=Cover.jpg/cover.jpg/AlbumArtSmall.jpg/albumartsmall.jpg/AlbumArt.jpg/albumart.jpg/Album.jpg/album.jpg/Folder.jpg/folder.jpg/Thumb.jpg/thumb.jpg
 
-# always force SortCriteria to this value, regardless of the SortCriteria passed by the client
-#force_sort_criteria=+upnp:class,+upnp:originalTrackNumber,+dc:title
+# Strictly adhere to DLNA standards.
+# This allows server-side downscaling of very large JPEG images, which may
+# decrease JPEG serving performance on (at least) Sony DLNA products.
+#strict_dlna=no
 
-# maximum number of simultaneous connections
-# note: many clients open several simultaneous connections while streaming
-#max_connections=50
+# Support for streaming .jpg and .mp3 files to a TiVo supporting HMO.
+#enable_tivo=no
+
+# Notify interval, in seconds.
+#notify_interval=895
+
+# Path to the MiniSSDPd socket, for MiniSSDPd support.
+#minissdpdsocket=/var/run/minissdpd.sock
